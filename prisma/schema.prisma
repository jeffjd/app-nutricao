// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model nutricionista{
  id       String     @id @default(uuid())
  nome     String
  email    String     @unique(map: "Nutricionista_email_key")
  senha    String
  paciente paciente[]
}

model paciente {
  id              String         @id @default(uuid())
  nome            String
  email           String         @unique(map: "Paciente_email_key")
  senha           String
  nutricionista   nutricionista? @relation(fields: [nutricionistaId], references: [id])
  nutricionistaId String?
  consulta        consulta[]
}


model ingrediente {
  id                    String                  @id @default(uuid())
  nome                  String
  calorias              Int
  unidade               Unidade
  ingredienteQuantidade ingredienteQuantidade[]
}

model receita {
  id           String                  @id @default(uuid())
  nome         String
  ingredientes ingredienteQuantidade[]
}

model ingredienteQuantidade {
  id            String       @id @default(uuid())
  receita       receita?     @relation(fields: [receitaId], references: [id])
  receitaId     String?
  ingrediente   ingrediente? @relation(fields: [ingredienteId], references: [id])
  ingredienteId String?
  quantidade    Int
}

model consulta {
  id         String    @id @default(uuid())
  peso       String
  altura     String
  imc        String
  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @updatedAt
  paciente   paciente? @relation(fields: [pacienteId], references: [id])
  pacienteId String?
}


enum Unidade {
  colher
  porcao
  grama
  kilograma
  mililitros
  litros
}
